<div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-100 to-blue-200 px-4">
  <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-md transition-all duration-500 ease-in-out animate-fade-in">
    <h2 class="text-3xl font-bold text-center text-indigo-700 mb-2 tracking-wide">Welcome Back</h2>
    <p class="text-sm text-center text-gray-500 mb-6">Please login to your account</p>

    <form (ngSubmit)="login()" #loginForm="ngForm" novalidate>
      
      <!-- Username -->
      <div class="mb-5 relative">
        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
        <div class="relative">
          <i class="fas fa-user absolute left-3 top-3.5 text-gray-400 text-sm"></i>
          <input
            [(ngModel)]="username"
            name="username"
            id="username"
            required
            #usernameInput="ngModel"
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"
          />
        </div>
        <div *ngIf="usernameInput.invalid && usernameInput.touched" class="text-red-500 text-sm mt-1">
          Username is required.
        </div>
      </div>

      <!-- Password -->
      <div class="mb-5 relative">
        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-3.5 text-gray-400 text-sm"></i>
          <input
            [(ngModel)]="password"
            name="password"
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            required
            pattern="^(?=.*[A-Z])(?=.*\d).{8,}$"
            #passwordInput="ngModel"
            class="w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"
          />
          <i
            class="fas absolute right-3 top-3.5 text-gray-500 cursor-pointer"
            [class.fa-eye-slash]="showPassword"
            [class.fa-eye]="!showPassword"
            (click)="showPassword = !showPassword"
          ></i>
        </div>
        <div *ngIf="passwordInput.invalid && passwordInput.touched" class="text-red-500 text-sm mt-1">
          <div *ngIf="passwordInput.errors?.['required']">Password is required.</div>
          <div *ngIf="passwordInput.errors?.['pattern']">
            Password must be at least 8 characters long, include 1 uppercase letter and 1 digit.
          </div>
        </div>
      </div>

      <!-- Remember Me -->
      <div class="flex items-center mb-5">
        <input
          type="checkbox"
          [(ngModel)]="rememberMe"
          name="rememberMe"
          id="rememberMe"
          class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"
        />
        <label for="rememberMe" class="ml-2 block text-sm text-gray-700">Remember Me</label>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="loginForm.invalid || loading"
        class="w-full bg-indigo-600 text-white py-2.5 rounded-md hover:bg-indigo-700 transition duration-200 font-medium tracking-wide disabled:opacity-50 disabled:cursor-not-allowed"
      >
        <ng-container *ngIf="!loading; else loadingTemplate">Login</ng-container>
        <ng-template #loadingTemplate>
          <i class="fas fa-spinner fa-spin mr-2"></i> Logging in...
        </ng-template>
      </button>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="text-red-600 mt-3 text-center text-sm">
        {{ errorMessage }}
      </div>

      <!-- Forgot Password -->
      <div class="text-center mt-4">
        <button
          type="button"
          (click)="navigateToForgotPassword()"
          class="cursor-pointer hover:underline text-sm font-medium"
        >
          Forgot Password?
        </button>
      </div>
    </form>
  </div>
</div>
